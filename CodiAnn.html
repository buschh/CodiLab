<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CodiAnn | CodiLab</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
  <link href="../../HKIKoeln/SemToNotes/client/res/xrx.css" rel="stylesheet">
  <script type="text/javascript" src="../../HKIKoeln/SemToNotes/client/lib/jssaxparser/SAXException.js"></script>
  <script type="text/javascript" src="../../HKIKoeln/SemToNotes/client/lib/jssaxparser/AttributesImpl.js"></script>
  <script type="text/javascript" src="../../HKIKoeln/SemToNotes/client/lib/jssaxparser/LocatorImpls.js"></script>
  <script type="text/javascript" src="../../HKIKoeln/SemToNotes/client/lib/jssaxparser/NamespaceSupport.js"></script>
  <script type="text/javascript" src="../../HKIKoeln/SemToNotes/client/lib/jssaxparser/sax.js"></script>
  <script type="text/javascript" src="../../HKIKoeln/SemToNotes/client/lib/jssaxparser/DefaultHandlers.js"></script>
  <script src="../../HKIKoeln/SemToNotes/client/lib/closure-library/closure/goog/base.js"></script>
  <script src="./client/deps.js"></script>
  <script>
    goog.require('xrx');
  </script>
  <style>
    body {
      padding-top: 50px;
      padding-bottom: 20px;
    }
  </style>
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
  <!-- model -->
  <div class="xrx-namespace" data-prefix="mets" data-uri="http://www.loc.gov/METS/"></div>
  <div class="xrx-namespace" data-prefix="xlink" data-uri="http://www.w3.org/1999/xlink"></div>

  <!--**
   * CodiAnn model
   *-->
  <div class="xrx-instance" id="icodiann">
    <div class="xrx-document">
      <app>
        <imagepos>11</imagepos>
      </app>
    </div>
  </div>
  <div class="xrx-bind" id="bappActualImage" data-ref="xrx:instance('icodiann')/app/imagepos/text()"></div>
  <div class="xrx-bind" id="bappImagePos" data-ref="number(xrx:instance('icodiann')/app/imagepos/text())"></div>
  <div class="xrx-bind" id="bappNextImage" data-ref="xrx:bind('bappImagePos') + 1"></div>
  <div class="xrx-bind" id="bappPreviousImage" data-ref="xrx:bind('bappImagePos') - 1"></div>

  <!--**
   * METS model
   *-->
  <div class="xrx-instance" id="imets" data-resource="./data/T0152/T0152.mets.xml"></div>
  <div class="xrx-bind" id="bmetsActualFile"
       data-ref="xrx:instance('imets')/mets:mets/mets:fileSec[1]/mets:fileGrp[1]/mets:file[xrx:bind('bappImagePos')]"></div>
  <div class="xrx-bind" id="bmetsActualImageUrl"
       data-ref="xrx:bind('bmetsActualFile')/mets:FLocat/@xlink:href"></div>
  <div class="xrx-bind" id="bmetsActualImageId"
       data-ref="substring-before(xrx:bind('bmetsActualFile')/@ID, '-DEF')"></div>

  <!--**
   * Swati model
   *-->
  <div class="xrx-instance" id="iswati" data-resource="./data/T0152/T0152.swati.xml"></div>
  <div class="xrx-bind" id="bswatiZone" data-ref="xrx:instance('iswati')/SwatiXml/Page_Measure[./ImageID=xrx:bind('bmetsActualImageId')]/zone"></div>

  <!-- view -->
  <nav id="nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="./index.html">CodiLab</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li><a href="./index.html">Home</a></li>
          <li><a href="./CodiKOS.html">CodiKOS</a></li>
          <li class="active"><a href="./CodiAnn.html">CodiAnn</a></li>
          <li><a href="./CodiQ.html">CodiQ</a></li>
        </ul>
        <div class="navbar-form navbar-right xrx-auth" data-endpoint="https://api.github.com/user">
          <div class="form-group inputUser">
            <input type="text" placeholder="Email" class="form-control xrx-user">
            <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
          </div>
          <div class="form-group inputPassword">
            <input type="password" placeholder="Password" class="form-control xrx-password">
            <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
          </div>
          <div class="form-group">
            <button class="btn btn-default xrx-signin">Sign in</button>
            <button class="btn btn-default xrx-signout">Sign out</button>
          </div>
          <div class="form-group">
            <a class="btn btn-primary" href="./SignUp.html">Sign up &raquo;</a>
          </div>
          <div class="xrx-action" data-event="xrx-event-submit-error">
            <div class="xrx-classes-add" data-select=".inputUser" data-classes="has-error has-feedback"></div>
            <div class="xrx-classes-add" data-select=".inputPassword" data-classes="has-error has-feedback"></div>
          </div>
          <div class="xrx-action" data-event="xrx-event-submit-done">
            <div class="xrx-classes-remove" data-select=".inputUser" data-classes="has-error has-feedback"></div>
            <div class="xrx-classes-remove" data-select=".inputPassword" data-classes="has-error has-feedback"></div>
            <div class="xrx-send" data-submission="ssave"></div>
          </div>
        </div>
      </div><!--/.navbar-collapse -->
    </div>
  </nav>

  <!--*
   * Image Annotation Tool
   *-->
  <div class="container">
    <div class="starter-template">
      <div>
        <button class="xrx-button btn btn-default">
          <span>Previous Image</span>
          <span class="xrx-action" data-event="xrx-event-click">
            <span class="xrx-update">
              <span class="xrx-origin" data-bind="bappPreviousImage"></span>
              <span class="xrx-target" data-bind="bappActualImage"></span>
            </span>
          </span>
        </button>
        <button class="xrx-button btn btn-default">
          <span>Next Image</span>
          <span class="xrx-action" data-event="xrx-event-click">
            <span class="xrx-update">
              <span class="xrx-origin" data-bind="bappNextImage"></span>
              <span class="xrx-target" data-bind="bappActualImage"></span>
            </span>
          </span>
        </button>
      </div>
      <div class="xrx-output" data-bind="bappActualImage"></div>
      <div class="xrx-canvas">
        <div class="xrx-canvas-background-image" data-bind="bmetsActualImageUrl"
             data-zone-bottom="-125"></div>
        <div class="xrx-canvas-graphics">
          <div class="xrx-canvas-group">
            <!--div class="xrx-repeat" data-bind="bswatiZone">
              <div class="xrx-shape-rect" data-unit="percentage"
                  data-ref="./self::*"
                  data-ref-x="./BX_Percentage/text()"
                  data-ref-y="./BY_Percentage/text()"
                  data-ref-width="./RelativeWidth_Percentage/text()"
                  data-ref-height="number(./RelativeHeight_Percentage/text())">
              </div>
            </div-->
          </div>
        </div>
      </div>
    </div> 
  </div><!-- /container -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
  <script>
    var width = $('.container').width();
    $('.xrx-canvas').width(width);
    $('.xrx-canvas').height(width);
    xrx.install();
  </script>
</body>
</html>